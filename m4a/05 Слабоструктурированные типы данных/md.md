–í–æ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ª–µ–∫—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown –¥–ª—è **–ú–æ–¥—É–ª—è 4: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL**:

---

## üìò –ú–æ–¥—É–ª—å 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL

PostgreSQL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –º–æ—â–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∏ –≥–∏–±–∫–∏—Ö —Å—Ö–µ–º –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

---

### üîπ –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (ENUM)

ENUM ‚Äî —ç—Ç–æ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –Ω–∞–±–æ—Ä–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

**–°–æ–∑–¥–∞–Ω–∏–µ:**

```sql
CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy');
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ:**

```sql
CREATE TABLE person (
  name text,
  current_mood mood
);
```

---

### üîπ –î–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ —Ç–∏–ø—ã (RANGE)

–ü–æ–∑–≤–æ–ª—è—é—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞—Ç—ã, —á–∏—Å–ª–∞).

**–ü—Ä–∏–º–µ—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤:**

* `int4range` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
* `numrange` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
* `tsrange` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**

```sql
CREATE TABLE bookings (
  room_id int,
  during tsrange
);
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è:**

```sql
SELECT * FROM bookings
WHERE during && tstzrange('2025-01-01', '2025-01-02');
```

---

### üîπ –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã (Base Types)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –Ω–æ–≤—ã–µ —Ç–∏–ø—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ C. –¢—Ä–µ–±—É—é—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.

> ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–¥–∫–æ, —Ç—Ä–µ–±—É—é—Ç –∑–Ω–∞–Ω–∏–π C –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PostgreSQL.

---

### üîπ –î–æ–º–µ–Ω—ã –¥–∞–Ω–Ω—ã—Ö (DOMAIN)

–î–æ–º–µ–Ω—ã ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –Ω–∞–ª–æ–∂–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE DOMAIN positive_int AS integer
  CHECK (VALUE > 0);
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```sql
CREATE TABLE accounts (
  id serial,
  balance positive_int
);
```

---

### üîπ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã, –∫–ª–∞—Å—Å—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

#### ‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã

–ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#` –∫–∞–∫ "–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–Ω–æ").

```sql
CREATE FUNCTION approx_eq(a float, b float) RETURNS boolean AS $$
BEGIN
  RETURN abs(a - b) < 0.001;
END;
$$ LANGUAGE plpgsql;

CREATE OPERATOR # (
  PROCEDURE = approx_eq,
  LEFTARG = float,
  RIGHTARG = float
);
```

#### ‚úÖ –ö–ª–∞—Å—Å—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

–ö–ª–∞—Å—Å—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö (–æ—Å–æ–±–µ–Ω–Ω–æ B-tree, GIN, GiST –∏ –¥—Ä.).

#### ‚úÖ –°–µ–º–µ–π—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

–°–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –∫–ª–∞—Å—Å—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö.

> –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º ‚Äî –≤ —Ç–µ–º–µ **"–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å—ã"**.

---

### üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã ‚Äî –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å PostgreSQL –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, –ø–æ–≤—ã—Å–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Å—Ö–µ–º—ã –∏ –æ–±–ª–µ–≥—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.

---


